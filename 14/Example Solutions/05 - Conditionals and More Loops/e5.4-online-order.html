<html>
<head>
    <title>Welcome to CSCI-215!</title>
</head>
<body>
<h1>Online Order</h1>

<script type="text/Javascript">

    /*
        Nested Loops - Online order

        Write the following program using JavaScript:

            1. Prompt user to enter information related to an online order. The information includes a list of items
               (description, quantity, and cost) delimited by a semicolon ;
            2. Compute the total of the order (quantity * cost). Don't forget to include the sales tax of 4.5%.
            3. Display information about each item in the order as well as subtotal, tax, and the overall total.

        Example #1:
        Polo Shirt,3,23.99;Blue Jeans,2,49.99;Tennis Shoes,1,89.88

        Expected output:

        Use string templates to format the output below.

        ======================
         Online Order
        ======================
         Polo Shirt: $71.97
         Blue Jeans: $99.98
         Tennis Shoes: $89.88
        ======================
         Sub Total: $261.83
         Tax 4.5%: $11.78
        ======================
         Order Total: $273.61
        ======================
    */

    // inout
    let input = prompt("Enter order details:", "Polo Shirt,3,23.99;Blue Jeans,2,49.99;Tennis Shoes,1,89.88");

    // calculations
    let subTotal = 0;
    let lineItem = input.split(";");
    document.write(`==============================<br/>`)
    for (let i=0; i < lineItem.length; i++) {
        let itemDetail = lineItem[i].split(",");
        let itemTotal = Number(itemDetail[1]) * Number(itemDetail[2]);
        subTotal += itemTotal;
        // print item detail and sub total
        document.write(`${itemDetail[0]}: $${itemTotal}<br/>`)
    }
    let taxAmount = subTotal * .045;
    let total = subTotal + taxAmount;

    // output totals
    document.write(`==============================<br/>`)
    document.write(`Sub Total: $${subTotal.toFixed(2)}<br/>`)
    document.write(`Tax (4.5%): $${taxAmount.toFixed(2)}<br/>`)
    document.write(`==============================<br/>`)
    document.write(`Total: $${total.toFixed(2)}<br/>`)
    
</script>
</body>
</html>